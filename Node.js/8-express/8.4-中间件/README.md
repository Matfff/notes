当一个请求到达 express 的服务器后，可以连续调用多个中间件，从而对这次的请求进行预处理

express 中间件的格式：
本质是一个 function 处理函数

app.get('/', function(req, res, next) {
    next();
})
中间件函数的形参列表中，必须包含 next 参数，而路由处理函数中只包含 req 和 res。

next() 函数的作用：
next 函数是实现多个中间件连续调用的关键，它表示把流转关系转交给下一个中间件或路由。

中间件的作用：
多个中间件之间，共享同一份 req 和 res。基于这样的特性，我们可以在上游的中间件中，统一为 req 和 res 对象添加自定义属性或方法，供下游的中间件或路由进行使用。

定义多个全局中间件，客户端请求到达服务器后，会按照中间件定义的先后顺序依次进行调用。

定义多个局部中间件 
app.get('/', mw1, mw2, (req, res) => {});
app.get('/', [mw1, mw2], (req, res) => {});

五个注意事项：
1. 一定要在路由之前注册中间件
2. 客户端发送过来的请求，可以连续调用多个中间件进行处理
3. 执行完中间件的业务代码之后，不要忘记调用 next() 函数
4. 为了防止代码逻辑混乱，调用完 next() 函数后不要再写额外的代码
5. 连续调用多个中间件时，多个中间件之间共享 req 和 res 对象

中间件分类：
1. 应用级别中间件：绑定到app实例上的中间件， app.use(), app.get(), app.post()
2. 路由级别中间件：绑定到 express.Router() 实例上的中间件，用法与应用级中间件没有区别
3. 错误级别中间件：专门用来捕获整个项目中发送的异常错误，防止项目异常导致崩溃  function 处理函数中必须有4个参数 (err, req, res, next)； 必须注册在所有路由之后！
4. express 内置的中间件：（1）express.static; （2）express.json：解析JSON格式的请求体数据（版本要求4.16.0+）（3）express.urlencoded：解析URL-encoded格式的请求体数据（版本需求4.16.0+）
5. 第三方中间件：